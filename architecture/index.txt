1:"$Sreact.fragment"
3:I[58400,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/1c4e4f6c3e15d61b.js"],"default"]
4:I[22060,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/1c4e4f6c3e15d61b.js"],"default"]
6:I[85078,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/1c4e4f6c3e15d61b.js"],"OutletBoundary"]
7:"$Sreact.suspense"
9:I[85078,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/1c4e4f6c3e15d61b.js"],"ViewportBoundary"]
b:I[85078,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/1c4e4f6c3e15d61b.js"],"MetadataBoundary"]
d:I[86148,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/1c4e4f6c3e15d61b.js"],"default"]
:HL["/csharp-compound-engineering/_next/static/chunks/221ce6682042a4f8.css","style"]
0:{"P":null,"b":"FE5tNJEaCVmxN99XPA3qR","c":["","architecture",""],"q":"","i":false,"f":[[["",{"children":[["mdxPath","architecture","oc"],{"children":["__PAGE__",{}]}]},"$undefined","$undefined",true],[["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/csharp-compound-engineering/_next/static/chunks/221ce6682042a4f8.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","script","script-0",{"src":"/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","async":true,"nonce":"$undefined"}],["$","script","script-1",{"src":"/csharp-compound-engineering/_next/static/chunks/402cdc54cb4e04f8.js","async":true,"nonce":"$undefined"}],["$","script","script-2",{"src":"/csharp-compound-engineering/_next/static/chunks/b1e5f1bdc155923e.js","async":true,"nonce":"$undefined"}],["$","script","script-3",{"src":"/csharp-compound-engineering/_next/static/chunks/d8b81287e7d259aa.js","async":true,"nonce":"$undefined"}]],"$L2"]}],{"children":[["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["$","$1","c",{"children":["$L5",null,["$","$L6",null,{"children":["$","$7",null,{"name":"Next.MetadataOutlet","children":"$@8"}]}]]}],{},null,false,false]},null,false,false]},null,false,false],["$","$1","h",{"children":[null,["$","$L9",null,{"children":"$La"}],["$","div",null,{"hidden":true,"children":["$","$Lb",null,{"children":["$","$7",null,{"name":"Next.Metadata","children":"$Lc"}]}]}],null]}],false]],"m":"$undefined","G":["$d",[]],"S":true}
e:I[56977,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/402cdc54cb4e04f8.js","/csharp-compound-engineering/_next/static/chunks/b1e5f1bdc155923e.js","/csharp-compound-engineering/_next/static/chunks/d8b81287e7d259aa.js"],"ThemeConfigProvider"]
f:I[50858,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/402cdc54cb4e04f8.js","/csharp-compound-engineering/_next/static/chunks/b1e5f1bdc155923e.js","/csharp-compound-engineering/_next/static/chunks/d8b81287e7d259aa.js"],"LastUpdated"]
10:I[68830,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/402cdc54cb4e04f8.js","/csharp-compound-engineering/_next/static/chunks/b1e5f1bdc155923e.js","/csharp-compound-engineering/_next/static/chunks/d8b81287e7d259aa.js"],"Search"]
11:I[5437,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/402cdc54cb4e04f8.js","/csharp-compound-engineering/_next/static/chunks/b1e5f1bdc155923e.js","/csharp-compound-engineering/_next/static/chunks/d8b81287e7d259aa.js"],"ThemeProvider"]
12:I[1168,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/402cdc54cb4e04f8.js","/csharp-compound-engineering/_next/static/chunks/b1e5f1bdc155923e.js","/csharp-compound-engineering/_next/static/chunks/d8b81287e7d259aa.js"],"SkipNavLink"]
13:I[95555,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/402cdc54cb4e04f8.js","/csharp-compound-engineering/_next/static/chunks/b1e5f1bdc155923e.js","/csharp-compound-engineering/_next/static/chunks/d8b81287e7d259aa.js"],"ConfigProvider"]
2:["$","html",null,{"lang":"en","dir":"ltr","suppressHydrationWarning":true,"children":[["$","head",null,{"children":["$undefined",["$","style",null,{"children":":root {\n  --nextra-primary-hue: 212deg;\n  --nextra-primary-saturation: 100%;\n  --nextra-primary-lightness: 45%;\n  --nextra-bg: 250,250,250;\n  --nextra-content-width: 90rem;\n}\n.dark {\n  --nextra-primary-hue: 204deg;\n  --nextra-primary-saturation: 100%;\n  --nextra-primary-lightness: 55%;\n  --nextra-bg: 17,17,17;\n}\n::selection {\n  background: hsla(var(--nextra-primary-hue),var(--nextra-primary-saturation),var(--nextra-primary-lightness),.3);\n}\nhtml {\n  background: rgb(var(--nextra-bg));\n}"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: light)","content":"rgb(250,250,250)"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: dark)","content":"rgb(17,17,17)"}],"$undefined"]}],["$","body",null,{"children":["$","$Le",null,{"value":{"copyPageButton":true,"darkMode":true,"docsRepositoryBase":"https://github.com/your-org/csharp-compound-engineering/tree/master/docs","editLink":"Edit this page","feedback":{"content":"Question? Give us feedback","labels":"feedback"},"i18n":[],"lastUpdated":["$","$Lf",null,{}],"navigation":{"next":true,"prev":true},"search":["$","$L10",null,{}],"sidebar":{"defaultMenuCollapseLevel":2,"defaultOpen":true,"toggleButton":true},"themeSwitch":{"dark":"Dark","light":"Light","system":"System"},"toc":{"backToTop":"Scroll to top","float":true,"title":"On This Page"}},"children":["$","$L11",null,{"attribute":"class","defaultTheme":"system","disableTransitionOnChange":true,"storageKey":"theme","children":[["$","$L12",null,{}],"$undefined",["$","$L13",null,{"pageMap":[{"data":{"index":{"title":"Getting Started"},"installation":{"title":"Installation"},"first-time-setup":{"title":"First Time Setup"},"configuration":{"title":"Configuration"},"api-reference":{"title":"API Reference"},"architecture":{"title":"Architecture"},"---":{"type":"separator","title":"Operations"},"troubleshooting":{"title":"Troubleshooting"},"diagnostics":{"title":"Diagnostics"},"release-checklist":{"title":"Release Checklist"}}},{"name":"index","route":"/","frontMatter":{"title":"Getting Started","filePath":"content/index.mdx","timestamp":1770602995000},"title":"Getting Started"},{"name":"installation","route":"/installation","frontMatter":{"title":"Installation","filePath":"content/installation.mdx","timestamp":1770602995000},"title":"Installation"},{"name":"first-time-setup","route":"/first-time-setup","frontMatter":{"title":"First Time Setup","filePath":"content/first-time-setup.mdx","timestamp":1770602995000},"title":"First Time Setup"},{"name":"configuration","route":"/configuration","frontMatter":{"title":"Configuration","filePath":"content/configuration.mdx","timestamp":1770602995000},"title":"Configuration"},{"name":"api-reference","route":"/api-reference","frontMatter":{"title":"API Reference","filePath":"content/api-reference.mdx","timestamp":1770602995000},"title":"API Reference"},{"name":"architecture","route":"/architecture","frontMatter":{"title":"Architecture","filePath":"content/architecture.mdx","timestamp":1770602995000},"title":"Architecture"},{"name":"---","type":"separator","title":"Operations"},{"name":"troubleshooting","route":"/troubleshooting","frontMatter":{"title":"Troubleshooting","filePath":"content/troubleshooting.mdx","timestamp":1770602995000},"title":"Troubleshooting"},{"name":"diagnostics","route":"/diagnostics","children":[{"data":{"index":{"title":"Overview"}}},{"name":"index","route":"/diagnostics","frontMatter":{"title":"Diagnostics","filePath":"content/diagnostics/index.mdx","timestamp":1770602995000},"title":"Overview"}],"title":"Diagnostics"},{"name":"release-checklist","route":"/release-checklist","frontMatter":{"title":"Release Checklist","filePath":"content/release-checklist.mdx","timestamp":1770602995000},"title":"Release Checklist"}],"navbar":["$","header",null,{"className":"nextra-navbar x:sticky x:top-0 x:z-30 x:w-full x:bg-transparent x:print:hidden x:max-md:[.nextra-banner:not([class$=hidden])~&]:top-(--nextra-banner-height)","children":[["$","div",null,{"className":"nextra-navbar-blur x:absolute x:-z-1 x:size-full nextra-border x:border-b x:backdrop-blur-md x:bg-nextra-bg/70"}],["$","nav",null,{"style":{"height":"var(--nextra-navbar-height)"},"className":"x:mx-auto x:flex x:max-w-(--nextra-content-width) x:items-center x:gap-4 x:pl-[max(env(safe-area-inset-left),1.5rem)] x:pr-[max(env(safe-area-inset-right),1.5rem)] x:justify-end","children":["$L14","$L15"]}]]}],"footer":"$L16","children":["$L17","$L18"]}]]}]}]}]]}]
19:I[85639,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/402cdc54cb4e04f8.js","/csharp-compound-engineering/_next/static/chunks/b1e5f1bdc155923e.js","/csharp-compound-engineering/_next/static/chunks/d8b81287e7d259aa.js"],""]
1a:I[87924,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/402cdc54cb4e04f8.js","/csharp-compound-engineering/_next/static/chunks/b1e5f1bdc155923e.js","/csharp-compound-engineering/_next/static/chunks/d8b81287e7d259aa.js"],"ClientNavbar"]
1c:I[26896,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/402cdc54cb4e04f8.js","/csharp-compound-engineering/_next/static/chunks/b1e5f1bdc155923e.js","/csharp-compound-engineering/_next/static/chunks/d8b81287e7d259aa.js"],"Switchers"]
1d:I[61054,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/402cdc54cb4e04f8.js","/csharp-compound-engineering/_next/static/chunks/b1e5f1bdc155923e.js","/csharp-compound-engineering/_next/static/chunks/d8b81287e7d259aa.js"],"LocaleSwitch"]
1e:I[80781,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/402cdc54cb4e04f8.js","/csharp-compound-engineering/_next/static/chunks/b1e5f1bdc155923e.js","/csharp-compound-engineering/_next/static/chunks/d8b81287e7d259aa.js"],"ThemeSwitch"]
1f:I[98262,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/402cdc54cb4e04f8.js","/csharp-compound-engineering/_next/static/chunks/b1e5f1bdc155923e.js","/csharp-compound-engineering/_next/static/chunks/d8b81287e7d259aa.js"],"MobileNav"]
14:["$","$L19",null,{"href":"/","className":"x:flex x:items-center x:me-auto x:transition-opacity x:focus-visible:nextra-focus x:hover:opacity-75","aria-label":"Home page","children":["$","b",null,{"children":"CSharp Compound Docs"}]}]
1b:T481,M12 3C7.0275 3 3 7.12937 3 12.2276C3 16.3109 5.57625 19.7597 9.15374 20.9824C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441C9.77249 20.3249 9.76125 19.5982 9.76125 18.8254C7.5 19.2522 6.915 18.2602 6.735 17.7412C6.63375 17.4759 6.19499 16.6569 5.8125 16.4378C5.4975 16.2647 5.0475 15.838 5.80124 15.8264C6.51 15.8149 7.01625 16.4954 7.18499 16.7723C7.99499 18.1679 9.28875 17.7758 9.80625 17.5335C9.885 16.9337 10.1212 16.53 10.38 16.2993C8.3775 16.0687 6.285 15.2728 6.285 11.7432C6.285 10.7397 6.63375 9.9092 7.20749 9.26326C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794C7.2975 6.81794 8.05125 6.57571 9.77249 7.76377C10.4925 7.55615 11.2575 7.45234 12.0225 7.45234C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377C15.9937 6.56418 16.7475 6.81794 16.7475 6.81794C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326C17.4113 9.9092 17.76 10.7281 17.76 11.7432C17.76 15.2843 15.6563 16.0687 13.6537 16.2993C13.98 16.5877 14.2613 17.1414 14.2613 18.0065C14.2613 19.2407 14.25 20.2326 14.25 20.5441C14.25 20.7863 14.4188 21.0746 14.8688 20.9824C16.6554 20.364 18.2079 19.1866 19.3078 17.6162C20.4077 16.0457 20.9995 14.1611 21 12.2276C21 7.12937 16.9725 3 12 3Z15:["$","$L1a",null,{"className":"","children":[["$","a",null,{"href":"https://github.com/your-org/csharp-compound-engineering","target":"_blank","rel":"noreferrer","children":[["$","svg",null,{"fill":"currentColor","viewBox":"3 3 18 18","height":"24","aria-label":"Project repository","children":["$","path",null,{"d":"$1b"}]}],false],"className":"x:focus-visible:nextra-focus"}],"$undefined","$undefined"]}]
16:["$","div",null,{"className":"x:bg-gray-100 x:pb-[env(safe-area-inset-bottom)] x:dark:bg-neutral-900 x:print:bg-transparent","children":[["$","$L1c",null,{"children":["$","div",null,{"className":"x:mx-auto x:flex x:max-w-(--nextra-content-width) x:gap-2 x:py-2 x:px-4","children":[["$","$L1d",null,{}],["$","$L1e",null,{}]]}]}],["$","hr",null,{"className":"nextra-border"}],["$","footer",null,{"className":"x:mx-auto x:flex x:max-w-(--nextra-content-width) x:justify-center x:py-12 x:text-gray-600 x:dark:text-gray-400 x:md:justify-start x:pl-[max(env(safe-area-inset-left),1.5rem)] x:pr-[max(env(safe-area-inset-right),1.5rem)]","children":["MIT ",2026," © CSharp Compound Docs"]}]]}]
17:["$","$L1f",null,{}]
18:["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]
20:I[47401,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/402cdc54cb4e04f8.js","/csharp-compound-engineering/_next/static/chunks/b1e5f1bdc155923e.js","/csharp-compound-engineering/_next/static/chunks/d8b81287e7d259aa.js"],"TOCProvider"]
21:I[98262,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/402cdc54cb4e04f8.js","/csharp-compound-engineering/_next/static/chunks/b1e5f1bdc155923e.js","/csharp-compound-engineering/_next/static/chunks/d8b81287e7d259aa.js"],"Sidebar"]
22:I[46578,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/402cdc54cb4e04f8.js","/csharp-compound-engineering/_next/static/chunks/b1e5f1bdc155923e.js","/csharp-compound-engineering/_next/static/chunks/d8b81287e7d259aa.js"],"ClientWrapper"]
23:T3741,---
title: Architecture
---

# Architecture Documentation

This document provides a comprehensive overview of the CSharp Compound Docs MCP server architecture, including system design, component interactions, and key design decisions.

## High-Level Overview

CSharp Compound Docs is a Claude Code plugin that implements the "compound-engineering" paradigm for C#/.NET projects. It enables developers to capture and retrieve institutional knowledge through:

- **GraphRAG pipeline** combining graph traversal with vector search
- **AWS OpenSearch Serverless** for vector storage and semantic search
- **Amazon Neptune** for knowledge graph storage (documents, concepts, relationships)
- **Amazon Bedrock** for embeddings (Titan) and LLM synthesis (Claude)
- **Git-based synchronization** via LibGit2Sharp for repository monitoring

### Key Principles

1. **GraphRAG Over Simple RAG** - Knowledge graph enrichment produces higher-quality answers than flat vector search
2. **Cloud-Native AWS** - Fully managed AWS services (Neptune, OpenSearch Serverless, Bedrock) eliminate infrastructure management
3. **Concept-Driven Knowledge** - Documents are decomposed into concepts and relationships, enabling multi-hop reasoning
4. **Cross-Repository Links** - Concepts can be resolved across multiple repositories

## System Architecture

```
+------------------------------------------------------------------+
|                      Claude Code / Claude Desktop                  |
+------------------------------------------------------------------+
                                |
                          stdio transport
                                |
                                v
+------------------------------------------------------------------+
|                          MCP Server                               |
|                    (.NET 9.0 Generic Host)                        |
|                                                                    |
|  +--------------------+  +--------------------+                    |
|  |   MCP Tool (1)     |  |  GraphRAG Pipeline |                   |
|  |                    |  |                    |                    |
|  | - rag_query        |  | - Query embedding  |                   |
|  |                    |  | - Vector search    |                   |
|  +--------------------+  | - Graph traversal  |                   |
|                          | - LLM synthesis    |                   |
|                          +--------------------+                    |
+------------------------------------------------------------------+
           |                |                |
           |                |                |
           v                v                v
+----------------+  +--------------+  +----------------+
| OpenSearch     |  | Amazon       |  | Amazon         |
| Serverless     |  | Neptune      |  | Bedrock        |
|                |  |              |  |                |
| - KNN vector   |  | - Document   |  | - Titan Embed  |
|   search       |  |   nodes      |  |   v2 (1024d)   |
| - Metadata     |  | - Concept    |  | - Claude       |
|   filtering    |  |   nodes      |  |   Haiku/Sonnet |
|                |  | - RELATES_TO |  |   /Opus        |
+----------------+  | - LINKS_TO   |  +----------------+
                    +--------------+
```

## Component Diagram

```
                    +-------------------+
                    |   Claude Code     |
                    |   Plugin System   |
                    +--------+----------+
                             |
                  MCP Protocol (stdio)
                             |
                             v
                    +-------------------+
                    |    MCP Server     |
                    | (.NET 9 Host)     |
                    +--------+----------+
                             |
                    +--------+---------+
                    |                  |
                    v                  v
          +-----------------+  +------------------+
          |  RagQueryTool   |  |  Worker Service  |
          |  (MCP endpoint) |  |  (background)    |
          +---------+-------+  +--------+---------+
                    |                   |
                    v                   v
          +-----------------+  +------------------+
          | GraphRag        |  |  GitSync         |
          | Pipeline        |  |  (LibGit2Sharp)  |
          +---------+-------+  +------------------+
                    |
         +----------+----------+
         |          |          |
         v          v          v
   +---------+ +--------+ +----------+
   | Vector  | | Graph  | | Bedrock  |
   | Store   | | Repo   | | Services |
   +---------+ +--------+ +----------+
   |OpenSearch| |Neptune | |Titan Emb |
   |Serverless| |openCyph| |Claude LLM|
   +---------+ +--------+ +----------+
```

## Data Flow

### Document Ingestion Flow

```
Git Repository
       |
       v (clone / pull via LibGit2Sharp)
+------------------+
|  GitSync Worker  |
| (detect changes) |
+--------+---------+
         |
         | 1. Parse markdown documents
         | 2. Extract frontmatter
         v
+------------------+
| Entity Extractor |
| (Bedrock Haiku)  |
+--------+---------+
         |
         | 3. Extract concepts
         | 4. Identify relationships
         v
+------------------+     +------------------+
| Bedrock Embeddings|     | Neptune Graph    |
| (Titan v2, 1024d)|     |                  |
+--------+---------+     | 5. Upsert nodes: |
         |               |   Document       |
         | 6. Index       |   Section        |
         |    chunks      |   Chunk          |
         v               |   Concept        |
+------------------+     | 6. Create edges: |
| OpenSearch       |     |   HAS_SECTION    |
| Serverless       |     |   HAS_CHUNK      |
| (KNN index)      |     |   MENTIONS       |
+------------------+     |   RELATES_TO     |
                         |   LINKS_TO       |
                         +------------------+
```

### Query (RAG) Flow

```
User Query: "How do we handle connection pool exhaustion?"
       |
       v
+------------------+
|  rag_query Tool  |
+--------+---------+
         |
         | 1. Embed query (Titan v2)
         v
+------------------+
| OpenSearch       |
| Serverless       |
+--------+---------+
         |
         | 2. KNN vector search
         |    (top-k chunks)
         v
+------------------+
| Neptune Graph    |
+--------+---------+
         |
         | 3. Multi-hop traversal
         |    - Related concepts
         |    - Linked documents
         |    - Cross-repo links
         v
+------------------+
| Bedrock LLM      |
| (Claude Sonnet)  |
+--------+---------+
         |
         | 4. Synthesize answer
         |    with source attribution
         v
+------------------+
| GraphRagResult   |
| - Answer         |
| - Sources[]      |
| - RelatedConcepts|
| - Confidence     |
+------------------+
```

## Technology Stack

### Core Components

| Component | Technology | Purpose |
|-----------|------------|---------|
| MCP Server | .NET 9 Generic Host | Application hosting, DI, logging |
| MCP Protocol | ModelContextProtocol.Server | Claude Code integration (stdio) |
| Vector Storage | AWS OpenSearch Serverless | Semantic search via KNN |
| Knowledge Graph | Amazon Neptune (openCypher) | Concept relationships, multi-hop traversal |
| Embeddings | Amazon Bedrock (Titan Embed v2) | 1024-dimension vector generation |
| LLM Synthesis | Amazon Bedrock (Claude) | RAG answer generation, entity extraction |
| Git Sync | LibGit2Sharp | Repository cloning, change detection |
| Orchestration | .NET Aspire | Service discovery, observability |

### Supporting Libraries

| Library | Purpose |
|---------|---------|
| Markdig | Markdown parsing, YAML frontmatter |
| NJsonSchema | Schema validation |
| YamlDotNet | YAML configuration parsing |
| Polly | Resilience (retry, circuit breaker) for all AWS calls |
| Serilog | Structured logging (stderr for MCP compliance) |
| Gremlin.Net | Neptune graph client connectivity |

### AWS Services

| Service | Purpose |
|---------|---------|
| OpenSearch Serverless | Vector index with KNN search |
| Neptune | Graph database for knowledge graph |
| Bedrock | Embeddings (Titan) + LLM (Claude Haiku/Sonnet/Opus) |

## Design Decisions

### Decision 1: GraphRAG Over Simple Vector RAG

**Choice**: Combine knowledge graph traversal with vector search for retrieval

**Rationale**:
- Multi-hop reasoning discovers related concepts that flat search misses
- Document relationships (LINKS_TO, RELATES_TO) provide structural context
- Concept nodes enable cross-document and cross-repository knowledge connections

**Trade-offs**:
- Higher complexity than simple vector-only RAG
- Requires maintaining both a graph database and a vector store

### Decision 2: AWS Cloud-Native Services

**Choice**: Use fully managed AWS services (Neptune, OpenSearch Serverless, Bedrock)

**Rationale**:
- Zero infrastructure management for databases and AI models
- Automatic scaling and high availability
- Consistent AWS IAM for authentication and authorization
- No local GPU or model management required

**Trade-offs**:
- Requires AWS account and credentials
- Running costs scale with usage
- Network latency compared to local services

### Decision 3: Tiered LLM Model Selection

**Choice**: Use different Claude model tiers (Haiku, Sonnet, Opus) for different tasks

**Rationale**:
- Entity extraction uses Haiku (cheapest) since it's a simpler task
- RAG synthesis uses Sonnet (balanced cost/quality)
- Complex reasoning tasks can escalate to Opus

**Trade-offs**:
- Configuration complexity for model IDs
- Different latency characteristics per tier

### Decision 4: Git-Based Change Detection

**Choice**: Use LibGit2Sharp to clone repositories and detect changes via git diff

**Rationale**:
- Git is the natural source of truth for code repositories
- Diff-based detection is efficient (only process changed files)
- Supports monitoring multiple repositories with configurable polling
- Branch awareness built in

**Trade-offs**:
- Polling-based (configurable interval, default 5 minutes)
- Requires git credentials for private repositories

### Decision 5: Stdio Transport

**Choice**: MCP server uses stdio transport (not HTTP)

**Rationale**:
- One server instance per Claude Code session
- Simpler security model (no network exposure)
- Automatic lifecycle management by Claude Code

**Trade-offs**:
- Cannot share server across multiple clients
- Server restarts on each Claude Code session

## Security Architecture

### Network Security

```
+-------------------+
|   Claude Code     |
|   (trusted)       |
+--------+----------+
         |
         | stdio (local only)
         v
+-------------------+
|    MCP Server     |
|   (localhost)     |
+--------+----------+
         |
         | HTTPS + AWS IAM SigV4
         v
+-------------------+     +-------------------+     +-------------------+
| OpenSearch        |     |    Neptune        |     |    Bedrock        |
| Serverless        |     |                   |     |                   |
| (AWS managed)     |     | (AWS managed)     |     | (AWS managed)     |
+-------------------+     +-------------------+     +-------------------+
```

### Security Boundaries

| Boundary | Protection |
|----------|------------|
| MCP Transport | stdio (no network exposure) |
| AWS Services | IAM authentication, SigV4 request signing |
| Neptune | VPC-based access control |
| OpenSearch Serverless | AWS IAM policies, encryption at rest |
| Bedrock | Model access policies, no data retention |

### Data Security

| Data Type | Protection |
|-----------|------------|
| Documents | Git repository access controls |
| Embeddings | OpenSearch Serverless encryption at rest |
| Graph Data | Neptune encryption at rest and in transit |
| AWS Credentials | IAM roles, environment variables, AWS credential chain |
| API Keys | AuthConfig with key-based access |

## Scalability Considerations

### Current Architecture

| Metric | Notes |
|--------|-------|
| Vector search | OpenSearch Serverless auto-scales |
| Graph queries | Neptune scales with instance size |
| Embeddings | Bedrock is serverless, scales on demand |
| Repositories | Configurable list with independent polling |
| Concurrent sessions | 1 per MCP server instance (stdio limitation) |

### Cross-Repository Support

The system supports monitoring multiple repositories:

```json
{
  "Repositories": [
    { "Url": "https://github.com/org/repo-a.git", "Name": "repo-a", "Branch": "main" },
    { "Url": "https://github.com/org/repo-b.git", "Name": "repo-b", "Branch": "main" }
  ]
}
```

Concepts discovered in one repository can be linked to concepts in another via the `ICrossRepoEntityResolver`.

## Monitoring and Observability

### Logging

| Component | Destination | Format |
|-----------|-------------|--------|
| MCP Server | stderr | Structured JSON (Serilog) |
| Worker Service | stderr | Structured JSON (Serilog) |
| AWS Services | CloudWatch | AWS native logging |

### OpenTelemetry

The Aspire ServiceDefaults project provides:
- Distributed tracing
- Metrics collection
- HTTP client instrumentation
- Service discovery

### Resilience

All AWS service calls use Polly resilience policies:
- Retry with exponential backoff
- Circuit breaker for sustained failures
- Timeout policies

## Project Structure

```
src/
  CompoundDocs.AppHost/        # .NET Aspire orchestration
  CompoundDocs.McpServer/      # MCP server with rag_query tool
  CompoundDocs.Worker/         # Background worker (GitSync + ingestion)
  CompoundDocs.Common/         # Shared configuration and models
  CompoundDocs.Vector/         # OpenSearch Serverless client
  CompoundDocs.Graph/          # Neptune graph repository
  CompoundDocs.Bedrock/        # Bedrock embedding + LLM services
  CompoundDocs.GraphRag/       # GraphRAG pipeline orchestration
  CompoundDocs.GitSync/        # Git repository sync (LibGit2Sharp)
  CompoundDocs.ServiceDefaults/# Aspire shared defaults + telemetry
```5:["$","div",null,{"className":"x:mx-auto x:flex x:max-w-(--nextra-content-width)","children":["$","$L20",null,{"value":[{"value":"High-Level Overview","id":"high-level-overview","depth":2},{"value":"Key Principles","id":"key-principles","depth":3},{"value":"System Architecture","id":"system-architecture","depth":2},{"value":"Component Diagram","id":"component-diagram","depth":2},{"value":"Data Flow","id":"data-flow","depth":2},{"value":"Document Ingestion Flow","id":"document-ingestion-flow","depth":3},{"value":"Query (RAG) Flow","id":"query-rag-flow","depth":3},{"value":"Technology Stack","id":"technology-stack","depth":2},{"value":"Core Components","id":"core-components","depth":3},{"value":"Supporting Libraries","id":"supporting-libraries","depth":3},{"value":"AWS Services","id":"aws-services","depth":3},{"value":"Design Decisions","id":"design-decisions","depth":2},{"value":"Decision 1: GraphRAG Over Simple Vector RAG","id":"decision-1-graphrag-over-simple-vector-rag","depth":3},{"value":"Decision 2: AWS Cloud-Native Services","id":"decision-2-aws-cloud-native-services","depth":3},{"value":"Decision 3: Tiered LLM Model Selection","id":"decision-3-tiered-llm-model-selection","depth":3},{"value":"Decision 4: Git-Based Change Detection","id":"decision-4-git-based-change-detection","depth":3},{"value":"Decision 5: Stdio Transport","id":"decision-5-stdio-transport","depth":3},{"value":"Security Architecture","id":"security-architecture","depth":2},{"value":"Network Security","id":"network-security","depth":3},{"value":"Security Boundaries","id":"security-boundaries","depth":3},{"value":"Data Security","id":"data-security","depth":3},{"value":"Scalability Considerations","id":"scalability-considerations","depth":2},{"value":"Current Architecture","id":"current-architecture","depth":3},{"value":"Cross-Repository Support","id":"cross-repository-support","depth":3},{"value":"Monitoring and Observability","id":"monitoring-and-observability","depth":2},{"value":"Logging","id":"logging","depth":3},{"value":"OpenTelemetry","id":"opentelemetry","depth":3},{"value":"Resilience","id":"resilience","depth":3},{"value":"Project Structure","id":"project-structure","depth":2}],"children":[["$","$L21",null,{}],["$","$L22",null,{"metadata":"$2:props:children:1:props:children:props:children:props:children:2:props:pageMap:6:frontMatter","bottomContent":"$undefined","sourceCode":"$23","children":["$L24","$L25"]}]]}]}]
26:I[27144,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/402cdc54cb4e04f8.js","/csharp-compound-engineering/_next/static/chunks/b1e5f1bdc155923e.js","/csharp-compound-engineering/_next/static/chunks/d8b81287e7d259aa.js"],"HeadingAnchor"]
24:["$","div",null,{"id":"nextra-skip-nav"}]
25:["$","main",null,{"data-pagefind-body":true,"children":[["$","h1",null,{"id":"$undefined","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-bold x:mt-2 x:text-4xl","children":["Architecture Documentation","$undefined"]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"This document provides a comprehensive overview of the CSharp Compound Docs MCP server architecture, including system design, component interactions, and key design decisions."}],"\n",["$","h2",null,{"id":"high-level-overview","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["High-Level Overview",["$","$L26",null,{"id":"high-level-overview"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"CSharp Compound Docs is a Claude Code plugin that implements the “compound-engineering” paradigm for C#/.NET projects. It enables developers to capture and retrieve institutional knowledge through:"}],"\n",["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-[.75em] x:not-first:mt-[1.25em] x:list-disc x:ms-[1.5em]","children":["\n",["$","li",null,{"className":"x:my-[.5em]","children":[["$","strong",null,{"children":"GraphRAG pipeline"}]," combining graph traversal with vector search"]}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":[["$","strong",null,{"children":"AWS OpenSearch Serverless"}]," for vector storage and semantic search"]}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":[["$","strong",null,{"children":"Amazon Neptune"}]," for knowledge graph storage (documents, concepts, relationships)"]}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":[["$","strong",null,{"children":"Amazon Bedrock"}]," for embeddings (Titan) and LLM synthesis (Claude)"]}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":[["$","strong",null,{"children":"Git-based synchronization"}]," via LibGit2Sharp for repository monitoring"]}],"\n"]}],"\n",["$","h3",null,{"id":"key-principles","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Key Principles",["$","$L26",null,{"id":"key-principles"}]]}],"\n",["$","ol",null,{"className":"x:[:is(ol,ul)_&]:my-[.75em] x:not-first:mt-[1.25em] x:list-decimal x:ms-6","children":["\n",["$","li",null,{"className":"x:my-[.5em]","children":[["$","strong",null,{"children":"GraphRAG Over Simple RAG"}]," - Knowledge graph enrichment produces higher-quality answers than flat vector search"]}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":[["$","strong",null,{"children":"Cloud-Native AWS"}]," - Fully managed AWS services (Neptune, OpenSearch Serverless, Bedrock) eliminate infrastructure management"]}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":[["$","strong",null,{"children":"Concept-Driven Knowledge"}]," - Documents are decomposed into concepts and relationships, enabling multi-hop reasoning"]}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":[["$","strong",null,{"children":"Cross-Repository Links"}]," - Concepts can be resolved across multiple repositories"]}],"\n"]}],"\n",["$","h2",null,{"id":"system-architecture","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["System Architecture",["$","$L26",null,{"id":"system-architecture"}]]}],"\n",["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-[1.25em]","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":["$L27","$L28"]}]]}],"\n","$L29","\n","$L2a","\n","$L2b","\n","$L2c","\n","$L2d","\n","$L2e","\n","$L2f","\n","$L30","\n","$L31","\n","$L32","\n","$L33","\n","$L34","\n","$L35","\n","$L36","\n","$L37","\n","$L38","\n","$L39","\n","$L3a","\n","$L3b","\n","$L3c","\n","$L3d","\n","$L3e","\n","$L3f","\n","$L40","\n","$L41","\n","$L42","\n","$L43","\n","$L44","\n","$L45","\n","$L46","\n","$L47","\n","$L48","\n","$L49","\n","$L4a","\n","$L4b","\n","$L4c","\n","$L4d","\n","$L4e","\n","$L4f","\n","$L50","\n","$L51","\n","$L52","\n","$L53","\n","$L54","\n","$L55","\n","$L56","\n","$L57","\n","$L58","\n","$L59","\n","$L5a","\n","$L5b","\n","$L5c","\n","$L5d","\n","$L5e","\n","$L5f","\n","$L60","\n","$L61","\n","$L62","\n","$L63","\n","$L64","\n","$L65","\n","$L66","\n","$L67","\n","$L68","\n","$L69","\n","$L6a","\n","$L6b","\n","$L6c","\n","$L6d","\n","$L6e"]}]
6f:I[931,["/csharp-compound-engineering/_next/static/chunks/aaecbbaaa36985de.js","/csharp-compound-engineering/_next/static/chunks/402cdc54cb4e04f8.js","/csharp-compound-engineering/_next/static/chunks/b1e5f1bdc155923e.js","/csharp-compound-engineering/_next/static/chunks/d8b81287e7d259aa.js"],"ToggleWordWrapButton"]
27:["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L6f",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}]
28:["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"children":"+------------------------------------------------------------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|                      Claude Code / Claude Desktop                  |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+------------------------------------------------------------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                                |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                          stdio transport"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                                |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                                v"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+------------------------------------------------------------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|                          MCP Server                               |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|                    (.NET 9.0 Generic Host)                        |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|                                                                    |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|  +--------------------+  +--------------------+                    |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|  |   MCP Tool (1)     |  |  GraphRAG Pipeline |                   |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|  |                    |  |                    |                    |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|  | - rag_query        |  | - Query embedding  |                   |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|  |                    |  | - Vector search    |                   |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|  +--------------------+  | - Graph traversal  |                   |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|                          | - LLM synthesis    |                   |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|                          +--------------------+                    |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+------------------------------------------------------------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"           |                |                |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"           |                |                |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"           v                v                v"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+----------------+  +--------------+  +----------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| OpenSearch     |  | Amazon       |  | Amazon         |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| Serverless     |  | Neptune      |  | Bedrock        |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|                |  |              |  |                |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| - KNN vector   |  | - Document   |  | - Titan Embed  |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|   search       |  |   nodes      |  |   v2 (1024d)   |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| - Metadata     |  | - Concept    |  | - Claude       |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|   filtering    |  |   nodes      |  |   Haiku/Sonnet |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|                |  | - RELATES_TO |  |   /Opus        |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+----------------+  | - LINKS_TO   |  +----------------+"}]}],"\n",["$","span",null,{"children":"$L70"}]]}]
29:["$","h2",null,{"id":"component-diagram","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Component Diagram",["$","$L26",null,{"id":"component-diagram"}]]}]
2a:["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-[1.25em]","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L6f",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"children":"                    +-------------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                    |   Claude Code     |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                    |   Plugin System   |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                    +--------+----------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                             |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                  MCP Protocol (stdio)"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                             |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                             v"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                    +-------------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                    |    MCP Server     |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                    | (.NET 9 Host)     |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                    +--------+----------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                             |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                    +--------+---------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                    |                  |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                    v                  v"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"          +-----------------+  +------------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"          |  RagQueryTool   |  |  Worker Service  |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"          |  (MCP endpoint) |  |  (background)    |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"          +---------+-------+  +--------+---------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                    |                   |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                    v                   v"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"          +-----------------+  +------------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"          | GraphRag        |  |  GitSync         |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"          | Pipeline        |  |  (LibGit2Sharp)  |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"          +---------+-------+  +------------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                    |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         +----------+----------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         |          |          |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         v          v          v"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"   +---------+ +--------+ +----------+"}]}],"\n","$L71","\n","$L72","\n","$L73","\n","$L74","\n","$L75","\n","$L76"]}]]}]]}]
2b:["$","h2",null,{"id":"data-flow","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Data Flow",["$","$L26",null,{"id":"data-flow"}]]}]
2c:["$","h3",null,{"id":"document-ingestion-flow","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Document Ingestion Flow",["$","$L26",null,{"id":"document-ingestion-flow"}]]}]
2d:["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-[1.25em]","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L6f",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"children":"Git Repository"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"       |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"       v (clone / pull via LibGit2Sharp)"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+------------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|  GitSync Worker  |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| (detect changes) |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+--------+---------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         | 1. Parse markdown documents"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         | 2. Extract frontmatter"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         v"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+------------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| Entity Extractor |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| (Bedrock Haiku)  |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+--------+---------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         | 3. Extract concepts"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         | 4. Identify relationships"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         v"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+------------------+     +------------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| Bedrock Embeddings|     | Neptune Graph    |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| (Titan v2, 1024d)|     |                  |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+--------+---------+     | 5. Upsert nodes: |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         |               |   Document       |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         | 6. Index       |   Section        |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         |    chunks      |   Chunk          |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         v               |   Concept        |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+------------------+     | 6. Create edges: |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| OpenSearch       |     |   HAS_SECTION    |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| Serverless       |     |   HAS_CHUNK      |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| (KNN index)      |     |   MENTIONS       |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+------------------+     |   RELATES_TO     |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                         |   LINKS_TO       |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"                         +------------------+"}]}]]}]]}]]}]
2e:["$","h3",null,{"id":"query-rag-flow","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Query (RAG) Flow",["$","$L26",null,{"id":"query-rag-flow"}]]}]
2f:["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-[1.25em]","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L6f",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"children":"User Query: \"How do we handle connection pool exhaustion?\""}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"       |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"       v"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+------------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|  rag_query Tool  |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+--------+---------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         | 1. Embed query (Titan v2)"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         v"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+------------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| OpenSearch       |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| Serverless       |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+--------+---------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         | 2. KNN vector search"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         |    (top-k chunks)"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         v"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+------------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| Neptune Graph    |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+--------+---------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         | 3. Multi-hop traversal"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         |    - Related concepts"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         |    - Linked documents"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         |    - Cross-repo links"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         v"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+------------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| Bedrock LLM      |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| (Claude Sonnet)  |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+--------+---------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         | 4. Synthesize answer"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         |    with source attribution"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         v"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+------------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| GraphRagResult   |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| - Answer         |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| - Sources[]      |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| - RelatedConcepts|"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| - Confidence     |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+------------------+"}]}]]}]]}]]}]
30:["$","h2",null,{"id":"technology-stack","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Technology Stack",["$","$L26",null,{"id":"technology-stack"}]]}]
31:["$","h3",null,{"id":"core-components","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Core Components",["$","$L26",null,{"id":"core-components"}]]}]
32:["$","table",null,{"className":"x:block x:overflow-x-auto nextra-scrollbar x:not-first:mt-[1.25em] x:p-0","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"Component","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:font-semibold x:dark:border-gray-600"}],["$","th",null,{"children":"Technology","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:font-semibold x:dark:border-gray-600"}],["$","th",null,{"children":"Purpose","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:font-semibold x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"MCP Server","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":".NET 9 Generic Host","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Application hosting, DI, logging","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"MCP Protocol","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"ModelContextProtocol.Server","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Claude Code integration (stdio)","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"Vector Storage","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"AWS OpenSearch Serverless","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Semantic search via KNN","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"Knowledge Graph","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Amazon Neptune (openCypher)","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Concept relationships, multi-hop traversal","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"Embeddings","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Amazon Bedrock (Titan Embed v2)","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"1024-dimension vector generation","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"LLM Synthesis","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Amazon Bedrock (Claude)","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],"$L77"],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],"$L78","$L79"]}]]}]
33:["$","h3",null,{"id":"supporting-libraries","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Supporting Libraries",["$","$L26",null,{"id":"supporting-libraries"}]]}]
34:["$","table",null,{"className":"x:block x:overflow-x-auto nextra-scrollbar x:not-first:mt-[1.25em] x:p-0","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"Library","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:font-semibold x:dark:border-gray-600"}],["$","th",null,{"children":"Purpose","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:font-semibold x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"Markdig","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Markdown parsing, YAML frontmatter","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"NJsonSchema","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Schema validation","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"YamlDotNet","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"YAML configuration parsing","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"Polly","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Resilience (retry, circuit breaker) for all AWS calls","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"Serilog","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Structured logging (stderr for MCP compliance)","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"Gremlin.Net","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Neptune graph client connectivity","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}]]}]]}]
35:["$","h3",null,{"id":"aws-services","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["AWS Services",["$","$L26",null,{"id":"aws-services"}]]}]
36:["$","table",null,{"className":"x:block x:overflow-x-auto nextra-scrollbar x:not-first:mt-[1.25em] x:p-0","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"Service","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:font-semibold x:dark:border-gray-600"}],["$","th",null,{"children":"Purpose","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:font-semibold x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"OpenSearch Serverless","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Vector index with KNN search","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"Neptune","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Graph database for knowledge graph","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"Bedrock","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Embeddings (Titan) + LLM (Claude Haiku/Sonnet/Opus)","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}]]}]]}]
37:["$","h2",null,{"id":"design-decisions","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Design Decisions",["$","$L26",null,{"id":"design-decisions"}]]}]
38:["$","h3",null,{"id":"decision-1-graphrag-over-simple-vector-rag","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Decision 1: GraphRAG Over Simple Vector RAG",["$","$L26",null,{"id":"decision-1-graphrag-over-simple-vector-rag"}]]}]
39:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":[["$","strong",null,{"children":"Choice"}],": Combine knowledge graph traversal with vector search for retrieval"]}]
3a:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":[["$","strong",null,{"children":"Rationale"}],":"]}]
3b:["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-[.75em] x:not-first:mt-[1.25em] x:list-disc x:ms-[1.5em]","children":["\n",["$","li",null,{"className":"x:my-[.5em]","children":"Multi-hop reasoning discovers related concepts that flat search misses"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Document relationships (LINKS_TO, RELATES_TO) provide structural context"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Concept nodes enable cross-document and cross-repository knowledge connections"}],"\n"]}]
3c:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":[["$","strong",null,{"children":"Trade-offs"}],":"]}]
3d:["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-[.75em] x:not-first:mt-[1.25em] x:list-disc x:ms-[1.5em]","children":["\n",["$","li",null,{"className":"x:my-[.5em]","children":"Higher complexity than simple vector-only RAG"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Requires maintaining both a graph database and a vector store"}],"\n"]}]
3e:["$","h3",null,{"id":"decision-2-aws-cloud-native-services","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Decision 2: AWS Cloud-Native Services",["$","$L26",null,{"id":"decision-2-aws-cloud-native-services"}]]}]
3f:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":[["$","strong",null,{"children":"Choice"}],": Use fully managed AWS services (Neptune, OpenSearch Serverless, Bedrock)"]}]
40:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":[["$","strong",null,{"children":"Rationale"}],":"]}]
41:["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-[.75em] x:not-first:mt-[1.25em] x:list-disc x:ms-[1.5em]","children":["\n",["$","li",null,{"className":"x:my-[.5em]","children":"Zero infrastructure management for databases and AI models"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Automatic scaling and high availability"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Consistent AWS IAM for authentication and authorization"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"No local GPU or model management required"}],"\n"]}]
42:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":[["$","strong",null,{"children":"Trade-offs"}],":"]}]
43:["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-[.75em] x:not-first:mt-[1.25em] x:list-disc x:ms-[1.5em]","children":["\n",["$","li",null,{"className":"x:my-[.5em]","children":"Requires AWS account and credentials"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Running costs scale with usage"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Network latency compared to local services"}],"\n"]}]
44:["$","h3",null,{"id":"decision-3-tiered-llm-model-selection","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Decision 3: Tiered LLM Model Selection",["$","$L26",null,{"id":"decision-3-tiered-llm-model-selection"}]]}]
45:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":[["$","strong",null,{"children":"Choice"}],": Use different Claude model tiers (Haiku, Sonnet, Opus) for different tasks"]}]
46:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":[["$","strong",null,{"children":"Rationale"}],":"]}]
47:["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-[.75em] x:not-first:mt-[1.25em] x:list-disc x:ms-[1.5em]","children":["\n",["$","li",null,{"className":"x:my-[.5em]","children":"Entity extraction uses Haiku (cheapest) since it’s a simpler task"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"RAG synthesis uses Sonnet (balanced cost/quality)"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Complex reasoning tasks can escalate to Opus"}],"\n"]}]
48:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":[["$","strong",null,{"children":"Trade-offs"}],":"]}]
49:["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-[.75em] x:not-first:mt-[1.25em] x:list-disc x:ms-[1.5em]","children":["\n",["$","li",null,{"className":"x:my-[.5em]","children":"Configuration complexity for model IDs"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Different latency characteristics per tier"}],"\n"]}]
4a:["$","h3",null,{"id":"decision-4-git-based-change-detection","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Decision 4: Git-Based Change Detection",["$","$L26",null,{"id":"decision-4-git-based-change-detection"}]]}]
4b:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":[["$","strong",null,{"children":"Choice"}],": Use LibGit2Sharp to clone repositories and detect changes via git diff"]}]
4c:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":[["$","strong",null,{"children":"Rationale"}],":"]}]
4d:["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-[.75em] x:not-first:mt-[1.25em] x:list-disc x:ms-[1.5em]","children":["\n",["$","li",null,{"className":"x:my-[.5em]","children":"Git is the natural source of truth for code repositories"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Diff-based detection is efficient (only process changed files)"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Supports monitoring multiple repositories with configurable polling"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Branch awareness built in"}],"\n"]}]
4e:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":[["$","strong",null,{"children":"Trade-offs"}],":"]}]
4f:["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-[.75em] x:not-first:mt-[1.25em] x:list-disc x:ms-[1.5em]","children":["\n",["$","li",null,{"className":"x:my-[.5em]","children":"Polling-based (configurable interval, default 5 minutes)"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Requires git credentials for private repositories"}],"\n"]}]
50:["$","h3",null,{"id":"decision-5-stdio-transport","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Decision 5: Stdio Transport",["$","$L26",null,{"id":"decision-5-stdio-transport"}]]}]
51:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":[["$","strong",null,{"children":"Choice"}],": MCP server uses stdio transport (not HTTP)"]}]
52:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":[["$","strong",null,{"children":"Rationale"}],":"]}]
53:["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-[.75em] x:not-first:mt-[1.25em] x:list-disc x:ms-[1.5em]","children":["\n",["$","li",null,{"className":"x:my-[.5em]","children":"One server instance per Claude Code session"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Simpler security model (no network exposure)"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Automatic lifecycle management by Claude Code"}],"\n"]}]
54:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":[["$","strong",null,{"children":"Trade-offs"}],":"]}]
55:["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-[.75em] x:not-first:mt-[1.25em] x:list-disc x:ms-[1.5em]","children":["\n",["$","li",null,{"className":"x:my-[.5em]","children":"Cannot share server across multiple clients"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Server restarts on each Claude Code session"}],"\n"]}]
56:["$","h2",null,{"id":"security-architecture","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Security Architecture",["$","$L26",null,{"id":"security-architecture"}]]}]
57:["$","h3",null,{"id":"network-security","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Network Security",["$","$L26",null,{"id":"network-security"}]]}]
58:["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-[1.25em]","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L6f",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"children":"+-------------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|   Claude Code     |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|   (trusted)       |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+--------+----------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         | stdio (local only)"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         v"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+-------------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|    MCP Server     |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"|   (localhost)     |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+--------+----------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         | HTTPS + AWS IAM SigV4"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"         v"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+-------------------+     +-------------------+     +-------------------+"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| OpenSearch        |     |    Neptune        |     |    Bedrock        |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| Serverless        |     |                   |     |                   |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"| (AWS managed)     |     | (AWS managed)     |     | (AWS managed)     |"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"+-------------------+     +-------------------+     +-------------------+"}]}]]}]]}]]}]
59:["$","h3",null,{"id":"security-boundaries","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Security Boundaries",["$","$L26",null,{"id":"security-boundaries"}]]}]
5a:["$","table",null,{"className":"x:block x:overflow-x-auto nextra-scrollbar x:not-first:mt-[1.25em] x:p-0","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"Boundary","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:font-semibold x:dark:border-gray-600"}],["$","th",null,{"children":"Protection","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:font-semibold x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"MCP Transport","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"stdio (no network exposure)","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"AWS Services","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"IAM authentication, SigV4 request signing","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"Neptune","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"VPC-based access control","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"OpenSearch Serverless","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"AWS IAM policies, encryption at rest","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"Bedrock","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Model access policies, no data retention","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}]]}]]}]
5b:["$","h3",null,{"id":"data-security","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Data Security",["$","$L26",null,{"id":"data-security"}]]}]
5c:["$","table",null,{"className":"x:block x:overflow-x-auto nextra-scrollbar x:not-first:mt-[1.25em] x:p-0","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"Data Type","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:font-semibold x:dark:border-gray-600"}],["$","th",null,{"children":"Protection","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:font-semibold x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"Documents","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Git repository access controls","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"Embeddings","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"OpenSearch Serverless encryption at rest","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"Graph Data","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Neptune encryption at rest and in transit","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"AWS Credentials","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"IAM roles, environment variables, AWS credential chain","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"API Keys","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"AuthConfig with key-based access","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}]]}]]}]
5d:["$","h2",null,{"id":"scalability-considerations","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Scalability Considerations",["$","$L26",null,{"id":"scalability-considerations"}]]}]
5e:["$","h3",null,{"id":"current-architecture","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Current Architecture",["$","$L26",null,{"id":"current-architecture"}]]}]
5f:["$","table",null,{"className":"x:block x:overflow-x-auto nextra-scrollbar x:not-first:mt-[1.25em] x:p-0","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"Metric","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:font-semibold x:dark:border-gray-600"}],["$","th",null,{"children":"Notes","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:font-semibold x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"Vector search","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"OpenSearch Serverless auto-scales","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"Graph queries","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Neptune scales with instance size","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"Embeddings","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Bedrock is serverless, scales on demand","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"Repositories","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Configurable list with independent polling","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"Concurrent sessions","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"1 per MCP server instance (stdio limitation)","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}]]}]]}]
60:["$","h3",null,{"id":"cross-repository-support","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Cross-Repository Support",["$","$L26",null,{"id":"cross-repository-support"}]]}]
61:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"The system supports monitoring multiple repositories:"}]
62:["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-[1.25em]","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L6f",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"{"}]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"  \"Repositories\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":": ["}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    { "}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"\"Url\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"https://github.com/org/repo-a.git\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"\"Name\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"repo-a\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"\"Branch\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"main\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" },"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    { "}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"\"Url\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"https://github.com/org/repo-b.git\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"\"Name\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"repo-b\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"\"Branch\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"main\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" }"}]]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"  ]"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"}"}]}]]}]]}]]}]
63:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":["Concepts discovered in one repository can be linked to concepts in another via the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"ICrossRepoEntityResolver"}],"."]}]
64:["$","h2",null,{"id":"monitoring-and-observability","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Monitoring and Observability",["$","$L26",null,{"id":"monitoring-and-observability"}]]}]
65:["$","h3",null,{"id":"logging","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Logging",["$","$L26",null,{"id":"logging"}]]}]
66:["$","table",null,{"className":"x:block x:overflow-x-auto nextra-scrollbar x:not-first:mt-[1.25em] x:p-0","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"Component","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:font-semibold x:dark:border-gray-600"}],["$","th",null,{"children":"Destination","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:font-semibold x:dark:border-gray-600"}],["$","th",null,{"children":"Format","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:font-semibold x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"MCP Server","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"stderr","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Structured JSON (Serilog)","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"Worker Service","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"stderr","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Structured JSON (Serilog)","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}],["$","tr",null,{"children":[["$","td",null,{"children":"AWS Services","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"CloudWatch","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"AWS native logging","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}]]}]]}]
67:["$","h3",null,{"id":"opentelemetry","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["OpenTelemetry",["$","$L26",null,{"id":"opentelemetry"}]]}]
68:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"The Aspire ServiceDefaults project provides:"}]
69:["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-[.75em] x:not-first:mt-[1.25em] x:list-disc x:ms-[1.5em]","children":["\n",["$","li",null,{"className":"x:my-[.5em]","children":"Distributed tracing"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Metrics collection"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"HTTP client instrumentation"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Service discovery"}],"\n"]}]
6a:["$","h3",null,{"id":"resilience","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Resilience",["$","$L26",null,{"id":"resilience"}]]}]
6b:["$","p",null,{"className":"x:not-first:mt-[1.25em] x:leading-7","children":"All AWS service calls use Polly resilience policies:"}]
6c:["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-[.75em] x:not-first:mt-[1.25em] x:list-disc x:ms-[1.5em]","children":["\n",["$","li",null,{"className":"x:my-[.5em]","children":"Retry with exponential backoff"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Circuit breaker for sustained failures"}],"\n",["$","li",null,{"className":"x:my-[.5em]","children":"Timeout policies"}],"\n"]}]
6d:["$","h2",null,{"id":"project-structure","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Project Structure",["$","$L26",null,{"id":"project-structure"}]]}]
6e:["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-[1.25em]","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L6f",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"children":"src/"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"  CompoundDocs.AppHost/        # .NET Aspire orchestration"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"  CompoundDocs.McpServer/      # MCP server with rag_query tool"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"  CompoundDocs.Worker/         # Background worker (GitSync + ingestion)"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"  CompoundDocs.Common/         # Shared configuration and models"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"  CompoundDocs.Vector/         # OpenSearch Serverless client"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"  CompoundDocs.Graph/          # Neptune graph repository"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"  CompoundDocs.Bedrock/        # Bedrock embedding + LLM services"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"  CompoundDocs.GraphRag/       # GraphRAG pipeline orchestration"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"  CompoundDocs.GitSync/        # Git repository sync (LibGit2Sharp)"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"  CompoundDocs.ServiceDefaults/# Aspire shared defaults + telemetry"}]}]]}]]}]]}]
70:["$","span",null,{"children":"                    +--------------+"}]
71:["$","span",null,{"children":["$","span",null,{"children":"   | Vector  | | Graph  | | Bedrock  |"}]}]
72:["$","span",null,{"children":["$","span",null,{"children":"   | Store   | | Repo   | | Services |"}]}]
73:["$","span",null,{"children":["$","span",null,{"children":"   +---------+ +--------+ +----------+"}]}]
74:["$","span",null,{"children":["$","span",null,{"children":"   |OpenSearch| |Neptune | |Titan Emb |"}]}]
75:["$","span",null,{"children":["$","span",null,{"children":"   |Serverless| |openCyph| |Claude LLM|"}]}]
76:["$","span",null,{"children":["$","span",null,{"children":"   +---------+ +--------+ +----------+"}]}]
77:["$","td",null,{"children":"RAG answer generation, entity extraction","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]
78:["$","tr",null,{"children":[["$","td",null,{"children":"Git Sync","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"LibGit2Sharp","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Repository cloning, change detection","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}]
79:["$","tr",null,{"children":[["$","td",null,{"children":"Orchestration","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":".NET Aspire","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}],["$","td",null,{"children":"Service discovery, observability","className":"x:m-0 x:border x:border-gray-300 x:px-4 x:py-2 x:dark:border-gray-600"}]],"className":"x:m-0 x:border-t x:border-gray-300 x:p-0 x:dark:border-gray-600 x:even:bg-gray-100 x:even:dark:bg-gray-600/20"}]
a:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
8:null
c:[["$","title","0",{"children":"Architecture | CSharp Compound Docs"}],["$","meta","1",{"name":"description","content":"Documentation for the CSharp Compound Docs MCP server — a GraphRAG-powered knowledge oracle for C#/.NET projects."}]]
