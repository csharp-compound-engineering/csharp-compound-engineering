{{- if and (not .Values.crossplane.enabled) (not .Values.externalSecrets.enabled) }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Values.neptune.connectionSecretName }}
  labels:
    {{- include "compound-docs.labels" . | nindent 4 }}
  annotations:
    argocd.argoproj.io/sync-wave: {{ .Values.syncWaves.application | quote }}
type: Opaque
stringData:
  endpoint: {{ required "neptune.endpoint is required when crossplane is disabled" .Values.neptune.endpoint | quote }}
  port: {{ .Values.neptune.port | quote }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Values.opensearch.connectionSecretName }}
  labels:
    {{- include "compound-docs.labels" . | nindent 4 }}
  annotations:
    argocd.argoproj.io/sync-wave: {{ .Values.syncWaves.application | quote }}
type: Opaque
stringData:
  endpoint: {{ required "opensearch.endpoint is required when crossplane is disabled" .Values.opensearch.endpoint | quote }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Values.iam.connectionSecretName }}
  labels:
    {{- include "compound-docs.labels" . | nindent 4 }}
  annotations:
    argocd.argoproj.io/sync-wave: {{ .Values.syncWaves.application | quote }}
type: Opaque
stringData:
  role_arn: {{ required "iam.roleArn is required when crossplane is disabled" .Values.iam.roleArn | quote }}
{{- end }}
